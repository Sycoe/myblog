## 一、综合题
网络CIDR分块，给图，路由聚合，分类

在下面的网络拓扑中，DNSServer提供域名解析服务，HTTPServer提供Web服务。网络的主要物理端口和对应的IP地址如图所示。（14分） 
（1）拓扑中有多少个子网？列出每个子网的网络地址和子网掩码。（3分） 
（2）当路由器之间的网络运行RIP协议时，列出R0刚启动时的路由表、以及路由器之间交换路由信息后的R0的路由表。路由表的头部应该包括目的网络地址、子网掩码、距离和下一跳地址。（6分） 
（3）PC1与PC2通信时ARP协议需要运行多少次？（2分） 
（4）给定 HTTPServer 的域名是 www.jg.com ， 请说明主机PC0 通过浏览器访问 http://www.jg.com 的执行过程（仅说明应用层过程）。（3分）
    ![[Pasted image 20241223212027.png|500]]



某公司网络拓扑图如下图所示，路由器R1通过接口E1,E2分别连接局域网1、局域网2，通过接口L0连接路由器R2，并通过路由器R2连接域名服务器与互联网。R1的L0接口的IP地址是222.118.2.1；R2的L0接口的IP地址是222.118.2.2，L1接口的IP地址是130.11.120.1，E0接口的IP地址是222.118.3.1；域名服务器的IP地址是222.118.3.2.

R1和R2的路由表结构为：

  目的网络IP地址   子网掩码    下一跳IP地址    接口

（1）请给出R1的路由器，使其明确包括到局域网1的路由、局域网2的路由、域名服务器的主机路由和互联网的路由。

（2）请采用路由聚合技术，给出R2到局域网1和局域网2的路由。
![[Pasted image 20241223212514.png]]
答：（1）
![[Pasted image 20241223212524.png|500]]
（2）填写R2到局域网1和局域网2的路由表2，局域网1和局域网2的地址可以聚合为222.118.1.0/24, 而R2去往局域网1和局域网2都是同一条路径。因此，路由表里面只需要填写到222.118.1.0/24网络的路由即可，如下表所示R2路由表：![[Pasted image 20241223212548.png|500]]



某公司的局域网设置如下所示，两个局域网通过路由器连接到NAT服务器上，并且通过NAT服务器连接到Internet上。局域网1的掩码是 192.168.14.0／25，局域网2的掩码是 192.168.14.128／25，NAT 服务器的内部IP 地址为192.168.13.25，外部IP地址为202.157.85.69，在NAT 服务器中有如下的表项：
![[Pasted image 20241223212720.png]]

|   |   |
|---|---|
|源地址：端口|索引值|
|192.168.14.48:2587|4325|
|192.168.14.175:652|5898|
|192.168.14.145:245|5899|

请问：

（1）地址是192.168.14.175的主机和地址为 192.168.14.48的主机分别属于哪个局域网？

（2）按照题目的配置，路由器的路由表项应该含有哪几项？

（3）现在有一个目的地址为201.25.68.99，源地址为192.168.14.175，TCP 端口为652的TP分组到达NAT服务器，问NAT服务器是否转发该分组？如果转发，分组的IP号和端口号分别是多少？

（4）当NAT 服务器收到一个目的地址是 202.157.85.69，端口号是4325的TCP 数据后，它将转发给哪个主机？



采用可变长子网掩码技术可把大网络分成小子网。 
(1)假设A公司需要把子网掩码为255.255.0.0的网络40.15.0.0分为两个子网，
假设第一个子网为40.15.0.0/17，则第二个子网的网络号和子网掩码是多少？
(2)假设另外一个B公司有2个分部，第一分部有2000台主机，则至少应给其分配多少个C类网络？
(3)如果分配给B公司第一分部的网络号为196.25.64.0，则指定给其的子网掩码为是多少？
(4)假设给B公司的第二分部分配的C类网络号为196.25.16.0～196.25.31.0，则其对应的子网掩码是多少？
(5)如果路由器收到一个目标地址为11000100.00011001.01000011.00100001 的数据报，则该数据报应送给B公司的第一分部还是第二分部？以上答案的计算过程全部写出。



## 二、CSMA/CD（计算题）

在使用CSMA/CD协议的网络中，传输介质为电缆，传输速率为1Gbit/s。电缆中的信号传播速率为200,000 km/s。当最小数据帧长减少800比特时，最远的两个站点之间的距离是增加还是减少？会变化多少米？



在下图中，局域网的数据速率是10Mbps，站点A和站点C之间的距离是2000米，信号的传播速率是200m/μs。站点A开始在t1=0时刻开始发送一个帧，站点C在t2=3μs时刻发送一个帧。假设帧足够长保证两个站点的冲突检测。 
![[Pasted image 20241223213828.png]]
（1）站点C听到冲突的时刻t3=？ 
（2）站点A听到冲突的时刻t4=？ 
（3）站点A在检测到冲突前发送的比特数是多少？ 
（4）站点C在检测到冲突前发送的比特数是多少？ 
（5）若A-D之间距离为10km，按照CSMA/CD协议，该局域网最短帧长应该是多少？




长度为1km，数据传输速率为10Mb∕s的CSMA/CD以太网，信号在电缆中的传播速率为200000km∕s，试求能够使该网络正常运行的最小帧长。


考虑建立一个CSMA/CD网，电缆长1km,不使用重发器，运行速率为IGb/s,电缆中的信号速率是200000km∕s,最小帧长是多少？

构造一个CSMA/CD总线网，速率为100Mb∕s,信号在电缆中的传播速率为$2 * 10^5$km∕s,数据帧的最小长度为125字节。试求总线电缆的最大长度（假设总线电缆中无中继器）。


某局域网采用CSMA/CD协议实现介质访问控制，数据传输速率为10Mb∕s,主机甲和主机乙之间的距离是2km,信号传播速率是200000km∕s。请回答下列
问题，要求说明理由或写出计算过程。
1）若主机甲和方机乙发送数据时发生冲突，则从开始发送数据的时刻起，到两台主机均检测到冲突为止，最短需要经过多长时间？最长需要经过多长时间（假设主机甲和主机乙在发送数据的过程中，其他主机不发送数据）？
2） 若网络不存在任何冲突与差错，主机甲总以标准的最长以太网数据帧（1518字节）向主机乙发送数据，主机乙每成功收到一个数据帧，就立即向主机甲发送一个64字节的确认帧，主机甲收到确认帧后方可发送下一个数据帧。此时主机甲的有效数据传输速率是多少（不考虑以太网的前导码）？





![[bf3c119703f2892a39c7d6ca9199ed8b.png]]![[f227ae3bb6a417f5d475512a9b374ac5.png]]

~~## 三、香奈儿公式
使用每个信号元素 8 个电平级的传输方案在 PSTN 传输数据。如果 PSTN 的带宽是3000Hz，典型的信噪比是 20dB，试求出无噪声下Nyquist最大数据传输速率C，和有噪声下的理论最大信息速率C-max。~~

## 三、冗余校验

设发送信息为11011011，生成多项式 $g（x）=x^5+x^3+x^2+1$ ，求CRC校验码

给定报文D=1010001101，预定比特序列（即除数或生成码）P=110101，请利用CRC计算帧校验序列E（CRC位，即余数），并给出真正的发送序列T.


## 四、六个编码画图

假定初始电平为低电平，画出比特流101110001 在NRZ-1编码机制下的波形图；比特流01011001在曼彻斯特、差分曼彻斯特编码机制下的波形图。

给定初始状态为高电平，画出数据流10100111的曼彻斯特码和差分曼彻斯特码的波形
![[Pasted image 20241223220359.png|400]]

如图所示的三种编码，每种8个比特，求其数据流
![[Pasted image 20241223220507.png|400]]


## 五、IP地址分类计算

一个IP地址为61.138.118.23/23的自组织系统有4个局域网，LAN2、LAN3和LAN4分别有165, 93和80台主机。请列出每个局域网的网络地址、子网掩码和IP地址范围。
![[Pasted image 20241223221644.png|400]]

根据指定的IP地址和子网掩码，填写下面的表格

| IP地址          | 子网掩码            | 子网地址 | 广播地址 | 主机地址范围 |
| ------------- | --------------- | ---- | ---- | ------ |
| 28.85.245.8   | 255.255.255.0   |      |      |        |
| 153.50.6.27   | 255.255、255.128 |      |      |        |
| 200.12.45.123 | 255.255.255.224 |      |      |        |

某高校给下属学院分配了一段IP地址192.168.5.0/24，该学员有两层办公实验楼（一楼，二楼），统一从一楼路由器接入公网。一楼有100台电脑连网，二楼有53台电脑连网。根据以上情况将该段IP地址划分成3个网段，（一二楼各一个网段，一楼二楼路由器互连用一个网段），尽可能地利用IP地址。给出各网段网络地址，可分配的IP地址范围，以及未被分配的地址段。

## 六、拥塞控制

基于TCP，主机A向主机B连续发送多个TCP报文段。

（1）若第1个报文段的序号为90，第2个报文段的序号为120，第三个报文段的序号为150。第1、2个报文段中有多少数据？

（2）在（1）的过程中，若第2个报文段丢失，第1、3报文段到达主机B。主机B发给主机A的确认报文中，确认号是多少？

（3）假如采用慢开始策略，慢开始门限为12（单位为报文段），每个报文段为100B。若第1、2、3、4个RTT往返均正确发送，第1报文段的序号为100，那么第2、3、4个RTT 的起始报文段的序号分别为多少？


给定信道带宽为50 Mb/s，端到端传播时延为1 ms。接收方窗口（rwnd）为20,000字节， 最大发送字段大小（MSS）为500字节。当拥塞窗口（cwnd）的初始值为1 MSS时，cwnd 将在第5轮结束时达到慢启动阈值。（12分） （1）计算第9轮发送方窗口的值，并写出详细的计算过程。（5分） 
（2）计算系统所能达到的最大吞吐量。（4分）
（3）计算信道利用率。（3分）

## 七、TCP、RTT？