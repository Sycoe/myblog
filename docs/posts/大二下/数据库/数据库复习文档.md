## 一、数据库概述

### 1. 数据管理技术的发展
- **人工管理**
  - 优点：简单直接
  - 缺点：效率低、数据冗余、数据一致性差
- **文件系统**
  - 优点：数据集中管理、部分提高了效率
  - 缺点：数据共享性差、数据独立性差、数据冗余依旧存在
- **数据库系统**
  - 优点：数据共享性好、数据独立性强、减少数据冗余、提高数据一致性
  - 缺点：系统复杂、成本高

### 2. 数据模型的要素
- **实体**：真实存在的事物或对象
- **属性**：实体的特征或描述
- **联系**：实体之间的关系
- **E-R图**：实体-联系图，用于表示实体、属性和联系

### 3. 常用数据模型
- **层次模型**
  - 特点：数据以树状结构表示，层次清晰
- **网络模型**
  - 特点：数据以图结构表示，节点可以有多条路径
- **关系模型**
  - 特点：数据以表结构表示，灵活性高，容易操作

## 二、关系数据模型

### 1. 基本概念
- **属性**：数据表的列
- **元组**：数据表的一行
- **分量**：元组中的一个值
- **主码**：唯一标识元组的属性或属性组
- **域**：属性的取值范围
- **关系模式**：关系的逻辑结构定义

### 2. 关系模型的三级模式结构
- **外模式**：用户视图
- **概念模式**：全局逻辑视图
- **内模式**：物理存储视图

### 3. 关系模型的性质
- **域**：定义属性的取值范围
- **笛卡儿积**：关系的所有可能元组的集合
- **候选码**：能够唯一标识元组的属性或属性组
- **外码**：引用其他表主码的属性

## 三、关系代数

### 1. 关系代数运算
- **选择**：σ，用于选择满足条件的元组
- **投影**：π，用于选择某些属性
- **连接**：⨝，用于将两个关系按条件组合
  - **等值连接**：条件是相等
  - **自然连接**：相同属性值相等
  - **外连接**：保留不满足连接条件的元组（左外连接、右外连接、全外连接）
- **集合运算**：并（∪）、交（∩）、差（−）、乘（×）

### 2. 关系代数应用
- 查询特定需求的关系代数表达式
  - 例如：求特定日期生日的学生信息、期末成绩不及格学生的家长联系方式

## 四、SQL（结构化查询语言）

### 1. 基本操作
- **创建模式**：CREATE SCHEMA
- **删除模式**：DROP SCHEMA
- **创建表**：CREATE TABLE
- **创建视图**：CREATE VIEW
- **查询**：SELECT
- **更新**：UPDATE
- **删除**：DELETE

### 2. 复杂应用
- 设计一个电影数据库
  - 演员可以参演多部电影，每部电影有多种类型
  - E-R图、创建数据表的SQL语句、复杂查询的关系代数表达式和SQL语句

## 五、数据库安全

### 1. 存取控制
- **自主存取控制**：基于权限的控制
- **强制存取控制**：基于规则的控制
- **授权**：GRANT
- **回收**：REVOKE

### 2. 多用户管理
- 创建用户、视图和进行授权管理

## 六、数据库完整性

### 1. 完整性约束
- **实体完整性**：主码不能为空
- **参照完整性**：外码必须引用有效的主码
- **用户定义完整性**：CHECK子句

### 2. 具体应用
- 创建断言和触发器，例如约束性别输入、出生年月等

## 七、关系理论

### 1. 范式理论
- **第一范式（1NF）**：所有属性都是原子值
- **第二范式（2NF）**：1NF基础上，非主属性完全依赖于主码
- **第三范式（3NF）**：2NF基础上，消除传递依赖

### 2. 综合应用
- 从E-R模型到SQL语句的转化
- 多表查询中的关系代数和SQL语句应用
